<?xml version="1.0"?>
 
<!-- ======================================================== -->
<!--        Main WOLips plugins Ant build file                -->
<!-- Serves as a facade for different helper build files.     -->
<!-- ======================================================== -->
<project name="org.objectstyle.wolips.projectbuild" default="" basedir=".">

    <!-- ========================================== -->
    <!-- Build java.                                -->
    <!-- ========================================== -->
    <target name="java">
        <path id="classpath">
            <fileset dir="${ant.home}/lib">
                <include name="ant.jar"/>
            </fileset>
            <fileset dir="../../lib">
                <include name="**/*.jar"/>
	    </fileset>
            <fileset dir="../../../lib">
                <include name="**/*.jar"/>
	    </fileset>
            <fileset dir="${wo.dir.library.frameworks}">
            	<include name="JavaEOAccess.framework/Resources/Java/*.jar"/>
            	<include name="JavaEOControl.framework/Resources/Java/*.jar"/>
            	<include name="JavaFoundation.framework/Resources/Java/*.jar"/>
            	<include name="JavaWebObjects.framework/Resources/Java/*.jar"/>
            	<include name="JavaJDBCAdaptor.framework/Resources/Java/*.jar"/>
            </fileset>
    	    <pathelement path="../../../${build.output.java.dir}"/>
        </path>

        <ant dir="." antfile="../../../${project.buildscripts.dir}/plugin-project.xml" target="java">
            <property name="param.plugin.dir" value="."/>
            <property name="param.java.dest.dir" value="../../../${build.output.java.dir}"/>
            <reference refid="classpath"/>
	</ant>
    </target>

    <!-- ========================================== -->
    <!-- Build copy resources.                      -->
    <!-- ========================================== -->
    <target name="copy.resources">
        <ant dir="." antfile="../../../${project.buildscripts.dir}/plugin-project.xml" target="copy.resources">
            <property name="param.plugin.dir" value="."/>
            <property name="param.build.output.build.dir" value="../../../${build.output.build.dir}"/>
	</ant>
    </target>

    <!-- ========================================== -->
    <!-- Build all.                                 -->
    <!-- ========================================== -->
    <target name="all" depends="java,copy.resources">
    </target>
    <!-- ========================================== -->
    <!-- Build dist.                                -->
    <!-- ========================================== -->
    <target name="dist">
        <ant dir="." antfile="../../../${project.buildscripts.dir}/plugin-project.xml" target="dist">
            <property name="param.plugin.dir" value="."/>
            <property name="param.build.output.build.dir" value="../../../${build.output.build.dir}"/>
            <property name="param.build.dist.build.dir" value="../../../${build.output.dist.dir}"/>
	</ant>
    </target>

</project>
