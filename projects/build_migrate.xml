<?xml version="1.0"?>
 
<!-- ======================================================== -->
<!--              Migrate Ant build file                      -->
<!-- Copies the stuff from woproject in the new               -->
<!-- project structure.                                       -->
<!-- ======================================================== -->
<project name="all-projects" default="migrate" basedir=".">

   <target name="clean">

<!-- homepage -->
        <delete dir="homepage/doc"/>
        <delete dir="homepage/drafts"/>
        <delete dir="homepage/xdocs"/>

<!-- lib -->
        <delete>
	    <fileset dir="lib">
        	<include name="*.jar"/>
            </fileset>
	</delete>

<!-- woenvironment -->
        <delete dir="woenvironment/src"/>

<!-- woproject -->
        <delete dir="woproject/src"/>
        <delete dir="woproject/tests"/>

<!-- wolips -->
        <delete>
	    <fileset dir="wolips/lib">
        	<include name="**/*.jar"/>
            </fileset>
	</delete>
        <delete>
	    <fileset dir="wolips/features">
        	<include name="org.objectstyle.*/**"/>
        	<exclude name="**/build.xml"/>
        	<exclude name="**/default.properties"/>
            </fileset>
	</delete>
        <delete>
	    <fileset dir="wolips/plugins">
        	<include name="org.objectstyle.*/**"/>
                <exclude name="**/build.xml"/>
        	<exclude name="**/default.properties"/>
            </fileset>
	</delete>
        <delete dir="wolips/update"/>
        <delete dir="wolips/lib/jmechanic"/>
   </target>

   <target name="migrate" depends="clean">

<!-- homepage -->
        <copy todir="homepage">
            <fileset dir="../../woproject">
        	<include name="doc/**"/>
        	<include name="xdocs/**"/>
        	<include name="drafts/**"/>
            </fileset>
        </copy>

<!-- lib -->
        <copy todir="lib">
            <fileset dir="../../woproject/lib">
        	<include name="cayenne*.jar"/>
        	<include name="jdom*.jar"/>
		<include name="junit*.jar"/>
		<include name="commons-logging.jar"/>
            </fileset>
        </copy>

<!-- woenvironment -->
	<mkdir dir="woenvironment/src"/>
        <copy todir="woenvironment/src">
            <fileset dir="../../woproject/src">
        	<include name="java/**"/>
        	<exclude name="resources/**"/>
                <exclude name="**/ant/**"/>
                <exclude name="**/log4j/**"/>
                <exclude name="**/pb/**"/>
            </fileset>
        </copy>

<!-- woproject -->
	<mkdir dir="woproject/src"/>
        <copy todir="woproject/src">
            <fileset dir="../../woproject/src">
        	<include name="java/**"/>
        	<include name="resources/**"/>
                <exclude name="**/env/**"/>
                <exclude name="**/logging/**"/>
                <exclude name="**/util/**"/>
            </fileset>
        </copy>
        <copy todir="woproject">
            <fileset dir="../../woproject">
        	<include name="tests/**"/>
            </fileset>
        </copy>
	<mkdir dir="woproject/lib"/>

<!-- wolips -->
        <copy todir="wolips/lib">
            <fileset dir="../../woproject/lib">
		<include name="jmechanic/*.jar"/>
            </fileset>
        </copy>

        <copy todir="wolips/features/org.objectstyle.wolips.feature">
            <fileset dir="../../woproject/src/wolips-feature">
            </fileset>
        </copy>
        <copy todir="wolips/features/org.objectstyle.wolips.profiling.feature">
            <fileset dir="../../woproject/src/wolips-profiling-feature">
            </fileset>
        </copy>
        <copy todir="wolips/features/org.objectstyle.wolips.tests.feature">
            <fileset dir="../../woproject/src/wolips-tests-feature">
            </fileset>
        </copy>

        <copy todir="wolips/plugins/org.objectstyle.wolips">
            <fileset dir="../../woproject/src/wolips">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.targetbuilder">
            <fileset dir="../../woproject/src/wolips-targetbuilder">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.help">
            <fileset dir="../../woproject/src/wolips-help">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.launching">
            <fileset dir="../../woproject/src/wolips-launching">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.source">
            <fileset dir="../../woproject/src/wolips-source">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.devstudio">
            <fileset dir="../../woproject/src/wolips-devstudio">
        	<exclude name="**/build.xml"/>
            </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.wounit">
            <fileset dir="../../woproject/src/wolips-wounit">
        	<exclude name="**/build.xml"/>
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.projectbuild">
            <fileset dir="../../woproject/src/wolips-projectbuild">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.ui">
            <fileset dir="../../woproject/src/wolips-ui">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.wizards">
            <fileset dir="../../woproject/src/wolips-wizards">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.woproject">
            <fileset dir="../../woproject/src/wolips-woproject">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.woproject.ant">
            <fileset dir="../../woproject/src/wolips-woproject-ant">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.cayenne">
            <fileset dir="../../woproject/src/wolips-cayenne">
             </fileset>
        </copy>
        <copy todir="wolips/plugins/org.objectstyle.wolips.cayenne.ant">
            <fileset dir="../../woproject/src/wolips-cayenne-ant">
             </fileset>
        </copy>
       <copy todir="wolips/plugins/org.objectstyle.wolips.logging">
            <fileset dir="../../woproject/src/wolips-logging">
             </fileset>
        </copy>
       <copy todir="wolips/plugins/org.objectstyle.wolips.ant">
            <fileset dir="../../woproject/src/wolips-ant">
             </fileset>
        </copy>
       <copy todir="wolips/plugins/org.objectstyle.wolips.profiling">
            <fileset dir="../../woproject/src/wolips-profiling">
             </fileset>
        </copy>
       <copy todir="wolips/plugins/org.objectstyle.wolips.team">
            <fileset dir="../../woproject/src/wolips-team">
             </fileset>
        </copy>
       <copy todir="wolips/plugins/org.objectstyle.wolips.tests">
            <fileset dir="../../woproject/src/wolips-tests">
             </fileset>
        </copy>
       <copy todir="wolips/plugins/org.objectstyle.wolips.support">
            <fileset dir="../../woproject/src/wolips-support">
             </fileset>
        </copy>
       <copy todir="wolips/plugins/org.objectstyle.wolips.feature">
            <fileset dir="../../woproject/src/wolips-feature-plugin">
             </fileset>
        </copy>

       <copy todir="wolips/update">
            <fileset dir="../../woproject/doc/update">
             </fileset>
        </copy>
    </target>

</project>
