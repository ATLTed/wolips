<?xml version="1.0"?>

<!-- ======================================================== -->
<!--                 WOLips Ant file.                         -->
<!-- ======================================================== -->
<project name="woproject-wolips" default="java" basedir=".">
	
                
    <!-- main distribution. -->
    
    <!-- ============================================= -->
    <!-- Define CLASSPATH settings.                    -->
    <!-- ============================================= -->
    <target name="defineClasspath">
    </target>

    <target name="java" depends="prepare">
    </target>

    <target name="dist" depends="prepare,java,doc,api">
	<zip zipfile="${wolips.source.dist}/src.zip">
             <fileset dir="${wolips.source.dist}/src">
             </fileset>
        </zip>
        <delete dir="${wolips.source.dist}/src"/>

	<zip zipfile="${wolips.source.dist}/javadoc.zip">
             <fileset dir="${woproject.dist}/doc/api">
             </fileset>
        </zip>

        <jar jarfile="${wolips.source.dist}.jar">
            <fileset dir="${wolips.source.dist}">
            </fileset>
       </jar>

    </target>
         
         
         
    <!-- ============================================= -->
    <!-- Sets up build and distribution directories.   -->
    <!-- ============================================= -->
    <target name="prepare" depends="defineClasspath">
	
        <!-- make feature -->
        <mkdir dir="${wolips.source.dist}"/>
    
        <copy todir="${wolips.source.dist}">
            <fileset dir="src/wolips-source">
        	<exclude name=".project"/>
		<exclude name=".classpath"/>
		<exclude name="build.properties"/>
            </fileset>
        </copy>
  
        <!-- Copy source code -->
         <copy todir="${wolips.source.dist}/src">
             <fileset dir="src/java"/>
             <fileset dir="src/wolips/java"/>
             <fileset dir="src/wolips-help/java"/>
             <fileset dir="src/wolips-targetbuilder/java"/>
             <fileset dir="src/wolips-support/java"/>
             <fileset dir="src/wolips-launching/java"/>
	     <fileset dir="src/wolips-profiling/java"/>
	     <fileset dir="src/wolips-devstudio/java"/>
	     <fileset dir="src/wolips-projectbuild/java"/>	     		     <fileset dir="src/wolips-wounit/java"/>
	     <fileset dir="src/wolips-ui/java"/>
	     <fileset dir="src/wolips-tests/java"/>
	     <fileset dir="src/wolips-wizards/java"/>
         </copy>

    </target>


    <!-- ============================================= -->
    <!-- Deletes temporary files.                      -->
    <!-- ============================================= -->
    <target name="clean">
    </target>
    
    
    <!-- ============================================= -->
    <!-- Deploys WOLips web site files in a local      -->
    <!-- directory.                                    -->
    <!-- ============================================= -->
    <target name="deploy-web" depends="prepare,site-doc" if="deploy.web"/>
    
    
    <!-- ========================================== -->
    <!-- Builds API documenatation.                 -->
    <!-- ========================================== -->
    <target name="api" depends="prepare">
    </target>
    
    
    <target name="doc" depends="prepare">
    	<mkdir dir="${wolips.source.dist}/src"/>
    </target>
    
    
    <target name="site-doc" depends="prepare">
    </target>
</project>
