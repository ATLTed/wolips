<?xml version="1.0"?>

<!-- ======================================================== -->
<!--                 WOLips Ant file.                         -->
<!-- ======================================================== -->
<project name="woproject-wolips-dist" default="dist" basedir=".">

   <target name="dist">
    <!-- make feature -->
    <mkdir dir="${wolips.feature.dist}"/>
    <copy todir="${wolips.feature.dist}">
        <fileset dir="src/wolips-feature">
        	<exclude name=".project"/>
        </fileset>
    </copy>
    <copy todir="${wolips.feature.dist}">
        <fileset dir="doc">
        	<include name="LICENSE"/>
        </fileset>
    </copy>
    <copy todir="${wolips.feature.dist}">
        <fileset dir="src/wolips/icons/wolips">
        	<include name="WOLips-medium.gif"/>
        </fileset>
    </copy>

    <mkdir dir="${wolips.profiling.feature.dist}"/>
    <copy todir="${wolips.profiling.feature.dist}">
        <fileset dir="src/wolips-profiling-feature">
        	<exclude name=".project"/>
        </fileset>
    </copy>
    <copy todir="${wolips.profiling.feature.dist}">
        <fileset dir="doc">
        	<include name="LICENSE"/>
        </fileset>
    </copy>
    <copy todir="${wolips.profiling.feature.dist}">
        <fileset dir="src/wolips/icons/wolips">
        	<include name="WOLips-medium.gif"/>
        </fileset>
    </copy>
  
    <mkdir dir="${wolips.tests.feature.dist}"/>
    <copy todir="${wolips.tests.feature.dist}">
        <fileset dir="src/wolips-tests-feature">
        	<exclude name=".project"/>
        </fileset>
    </copy>
    <copy todir="${wolips.tests.feature.dist}">
        <fileset dir="doc">
        	<include name="LICENSE"/>
        </fileset>
    </copy>
    <copy todir="${wolips.tests.feature.dist}">
        <fileset dir="src/wolips/icons/wolips">
        	<include name="WOLips-medium.gif"/>
        </fileset>
    </copy>
  
    <!-- make wolips dist -->
    <tar tarfile="${wolips.dist.filename}.tar">
        <tarfileset dir="${wolips.dist.base}">
        	<exclude name="**/plugins/*.jar"/>
        	<exclude name="**/features/*.jar"/>
	</tarfileset>
     </tar>
         
     <gzip src="${wolips.dist.filename}.tar"
         zipfile="${wolips.dist.filename}.tar.gz"/>
     <delete file="${wolips.dist.filename}.tar"/>
     
    </target>
	
</project>
